#!/usr/bin/env bash
set -e
mcd --require-ilk $0;
urn=$(mcd --require-urn $0)
[ -n "$1" ] || mcd --fail "gem: Please specify a join amount"

case $MCD_ILK in
  "ETH") {
    wei=$(seth --to-wei $1 eth)
    sig="join(bytes32)"
    (set -x; seth send ${MCD_JOIN_ETH?} "$sig" $urn -V $wei)
  };;
  *) {
    mcd gem-join-erc20 $1;
  };;
esac

mcd gem balance
